<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Wasim Mahmood Mia ‚Äî Profile</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: system-ui, -apple-system, Inter, sans-serif;
}

body {
  min-height: 100vh;
  margin: 0;
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  overflow-x: hidden;
  background: linear-gradient(270deg, #6b4bff, #ff8a4b, #1f9bff, #6b4bff);
  background-size: 800% 800%;
  animation: gradientMove 20s ease infinite;
  position: relative;
  transition: background 0.5s ease;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

body.dark-mode {
  background: linear-gradient(270deg, #0a0a0a, #1a1a2e, #16213e, #0f3460);
  background-size: 800% 800%;
  animation: gradientMove 20s ease infinite;
}

/* Scroll Progress Bar */
.scroll-progress-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 5px;
  background: transparent;
  z-index: 10001;
}
.scroll-progress-bar {
  height: 100%;
  background: linear-gradient(90deg, #00f2fe, #4facfe, #00f2fe);
  width: 0%;
  transition: width 0.1s;
  box-shadow: 0 0 10px #00f2fe;
}

/* Anti-copy overlay */
body::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9998;
  pointer-events: none;
}

/* Particle & Snow canvas */
#particles-js {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
}

/* Liquid background animation */
@keyframes gradientMove {
  0% { background-position: 0% 50% }
  50% { background-position: 100% 50% }
  100% { background-position: 0% 50% }
}

.container {
  max-width: 900px;
  width: 94%;
  margin: 60px auto;
  z-index: 2;
  position: relative;
}

.card {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, .2);
  border-radius: 28px;
  padding: 32px;
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  box-shadow: 0 20px 60px rgba(0, 0, 0, .35);
  z-index: 2;
  position: relative;
  transition: all 0.3s ease;
}

.dark-mode .card {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, .1);
}

/* Header */
.header {
  display: flex;
  gap: 20px;
  align-items: center;
  flex-wrap: wrap;
  position: relative;
}

/* Activity Status (Discord like) */
.image-protection {
  position: relative;
  display: inline-block;
}

.status-badge {
  position: absolute;
  bottom: 0;
  right: 5px;
  background: #23a559;
  border: 3px solid #fff;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  z-index: 3;
  box-shadow: 0 0 10px rgba(35, 165, 89, 0.6);
  animation: pulse 2s infinite;
}

.dark-mode .status-badge { border-color: #1a1a2e; }

@keyframes pulse {
  0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(35, 165, 89, 0.7); }
  70% { transform: scale(1); box-shadow: 0 0 0 6px rgba(35, 165, 89, 0); }
  100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(35, 165, 89, 0); }
}

/* Prevent image download */
.header img {
  width: 95px;
  height: 95px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid rgba(255, 255, 255, .4);
  pointer-events: none;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -webkit-user-drag: none;
}

.image-protection::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: transparent;
  z-index: 1;
}

.name-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  flex-wrap: nowrap;
}

.name {
  font-size: 26px;
  font-weight: 800;
  white-space: nowrap;
}

.badge {
  background: #1877f2;
  color: #fff;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
}

.tagline {
  opacity: .9;
  margin-top: 4px;
}

/* Visitor Counter */
.visitor-counter {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: rgba(255, 255, 255, 0.15);
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 13px;
  margin-top: 8px;
  border: 1px solid rgba(255,255,255,0.2);
}

/* Hire Me Button */
.hire-me-btn {
  margin-left: auto;
  padding: 10px 20px;
  border-radius: 20px;
  border: none;
  background: linear-gradient(135deg, #00f2fe, #4facfe);
  color: white;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(0, 242, 254, 0.4);
  transition: all 0.3s ease;
  z-index: 10;
}
.hire-me-btn:hover {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 6px 20px rgba(0, 242, 254, 0.6);
}

/* Top Buttons (Theme & Voice) */
.top-controls {
  position: absolute;
  top: 20px;
  right: 20px;
  display: flex;
  gap: 10px;
  z-index: 10000;
}

.icon-btn {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 18px;
  transition: all 0.3s ease;
  color: white;
}

.icon-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: rotate(15deg) scale(1.1);
}

.voice-active {
  background: #ff4b4b !important;
  animation: pulse 1.5s infinite;
  border-color: #ff4b4b;
}

/* Social grid */
.social {
  margin-top: 22px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
}

.social a {
  text-decoration: none;
  color: #fff !important;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 18px;
  padding: 12px 14px;
  border: 1px solid rgba(255, 255, 255, .2);
  display: flex;
  align-items: center;
  gap: 10px;
  transition: .3s;
  font-weight: 600;
}

.dark-mode .social a {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, .1);
}

.social a:hover {
  transform: translateY(-3px);
  background: rgba(255, 255, 255, 0.25);
}

.dark-mode .social a:hover {
  background: rgba(255, 255, 255, 0.15);
}

/* Social Colors... (kept exactly as before) */
.fb i { color: #1877f2 }
.ig i { color: #E4405F }
.tt i { color: #000 }
.tg i { color: #2AABEE }
.wa i { color: #25D366 }
.tw i { color: #ffffff }
.th i { color: #ff9500 }
.pi i { color: #E60023 }
.gi i { color: #000000 }
.sc i { color: #FFFC00 }
.lk i { color: #0077B5 }
.yt i { color: #FF0000 }
.rd i { color: #FF4500 }
.dc i { color: #5865F2 }
.tw i { color: #6441A4 }
.ve i { color: #1AB7EA }
.li i { color: #00B900 }
.we i { color: #07C160 }
.vi i { color: #7360f2 }
.sk i { color: #00AFF0 }

/* Sections */
.section {
  margin-top: 26px;
  background: rgba(255, 255, 255, 0.08);
  border-radius: 22px;
  border: 1px solid rgba(255, 255, 255, .2);
  padding: 18px 20px;
  transition: all 0.3s ease;
}

.dark-mode .section {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, .1);
}

.section strong {
  font-size: 16px;
  color: #fff !important;
  display: block;
  margin-bottom: 10px;
}

.section p {
  opacity: .9;
  margin-top: 6px;
  color: #fff !important;
  line-height: 1.6;
}

/* Contact & Location line */
.info-line, .location-line {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 6px;
  font-weight: 600;
  color: #fff !important;
}

/* Skills Progress */
.skill { margin: 15px 0; }
.skill-name {
  display: flex;
  justify-content: space-between;
  margin-bottom: 5px;
  font-weight: 600;
}
.progress-bar {
  height: 8px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  overflow: hidden;
}
.progress-bar div {
  height: 100%;
  background: linear-gradient(90deg, #6b4bff, #ff8a4b);
  border-radius: 4px;
  width: 0;
  transition: width 1.5s ease-in-out;
}

/* Skills Grid */
.skills-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
  margin-top: 15px;
}
.skill-item {
  background: rgba(255, 255, 255, 0.1);
  padding: 10px 12px;
  border-radius: 10px;
  text-align: center;
  font-weight: 600;
  transition: all 0.3s ease;
  border: 1px solid rgba(255, 255, 255, .2);
}

/* Glassmorphism Form Enhanced */
form {
  margin-top: 12px;
  display: grid;
  gap: 12px;
}

.glass-input {
  padding: 14px 16px;
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.3);
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(10px);
  color: #fff !important;
  font-size: 16px;
  transition: all 0.3s ease;
  user-select: text;
  -webkit-user-select: text;
  outline: none;
}

.glass-input::placeholder { color: rgba(255, 255, 255, 0.6); }

.glass-input:focus {
  background: rgba(255, 255, 255, 0.1);
  border-color: #00f2fe;
  box-shadow: 0 0 15px rgba(0, 242, 254, 0.3);
  transform: translateY(-2px);
}

.dark-mode .glass-input {
  background: rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.glass-btn {
  padding: 14px;
  border-radius: 16px;
  border: 0;
  font-weight: 700;
  cursor: pointer;
  background: linear-gradient(135deg, #665bff, #ff7b32);
  color: #fff !important;
  transition: .3s;
  font-size: 16px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.glass-btn:hover {
  box-shadow: 0 0 20px #ff7b32, 0 0 30px #665bff;
  transform: translateY(-3px);
}

/* Footer */
footer {
  text-align: center;
  margin-top: 22px;
  opacity: .8;
  font-size: 13px;
  color: #fff !important;
  padding-top: 20px;
  border-top: 1px solid rgba(255, 255, 255, .2);
}

/* Scroll animation */
.reveal {
  opacity: 0;
  transform: translateY(32px) scale(.97);
  transition: .7s cubic-bezier(.16, .84, .44, 1);
}
.reveal.visible {
  opacity: 1;
  transform: none;
}

/* Back to Top */
.back-to-top {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 50px;
  height: 50px;
  background: #6b4bff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
  z-index: 10000;
  border: none;
  color: white;
  font-size: 20px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.back-to-top.visible {
  opacity: 1;
  visibility: visible;
}

/* Security Overlays */
.copy-warning {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.9);
  color: white;
  padding: 20px 30px;
  border-radius: 15px;
  border: 2px solid #ff4b4b;
  z-index: 9999;
  display: none;
  text-align: center;
  font-weight: bold;
  backdrop-filter: blur(10px);
}
.recording-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(45deg, rgba(255,0,0,0.05), rgba(255,0,0,0.05) 10px, rgba(0,0,0,0.05) 10px, rgba(0,0,0,0.05) 20px);
  z-index: 9997;
  display: none;
  pointer-events: none;
}

@media (max-width: 768px) {
  .container { margin: 30px auto; width: 96%; }
  .social { grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); }
  .hire-me-btn { margin-top: 15px; width: 100%; }
}
</style>
</head>

<body>

<div class="scroll-progress-container">
  <div class="scroll-progress-bar" id="progressBar"></div>
</div>

<div class="copy-warning" id="copyWarning">
  <i class="fas fa-ban" style="font-size: 40px; margin-bottom: 10px; color: #ff4b4b;"></i>
  <p>Copying content is not allowed!</p>
</div>
<div class="recording-overlay" id="recordingOverlay"></div>

<canvas id="particles-js"></canvas>

<div class="container">
  <div class="card reveal">
    
    <div class="top-controls">
      <button class="icon-btn" id="voiceToggle" title="Voice Commands (Say 'Dark Mode' or 'Scroll Down')">
        <i class="fas fa-microphone"></i>
      </button>
      <button class="icon-btn" id="themeToggle" title="Toggle Theme">
        <i class="fas fa-moon"></i>
      </button>
    </div>
    
    <div class="header">
      <div class="image-protection">
        <img src="https://i.ibb.co.com/bMD5JBy5/IMG-8125.jpg" alt="Profile" />
        <div class="status-badge" title="Online"></div>
      </div>
      
      <div>
        <div class="name-badge">
          <div class="name">Wasim Mahmood</div>
          <div class="badge">‚úî</div>
        </div>
        <div class="tagline">Creative Developer & Tech Enthusiast</div>
        <div class="location-line">
          <i class="fa-solid fa-location-dot"></i>
          Dhaka, Kishoreganj, Bhairab Bazar
        </div>
        <div class="visitor-counter">
          <i class="fas fa-chart-line"></i> Visitors: <span id="visitCount">Loading...</span>
        </div>
      </div>
      
      <button id="hireMeBtn" class="hire-me-btn">
        <i class="fas fa-rocket"></i> Hire Me
      </button>
    </div>

    <div class="social reveal">
      <a class="fb" href="https://www.facebook.com/share/1DMBocK6Ff/" target="_blank"><i class="fa-brands fa-facebook"></i>Facebook</a>
      <a class="ig" href="https://www.instagram.com/zaynmahin_?igsh=MW56OHVsNmo5anlxag==" target="_blank"><i class="fa-brands fa-instagram"></i>Instagram</a>
      <a class="tt" href="https://www.tiktok.com/@zaynmahin__?_r=1&_t=ZS-92akIXzWl8s" target="_blank"><i class="fa-brands fa-tiktok"></i>TikTok</a>
      <a class="tg" href="https://t.me/+8801772447277" target="_blank"><i class="fa-brands fa-telegram"></i>Telegram</a>
      <a class="wa" href="https://wa.me/+8801772447277" target="_blank"><i class="fa-brands fa-whatsapp"></i>WhatsApp</a>
      <a class="tw" href="https://x.com/zaynmahin?fbclid=..." target="_blank"><i class="fa-brands fa-x-twitter"></i>X (Twitter)</a>
      <a class="th" href="https://www.threads.com/@zaynmahin_" target="_blank"><i class="fa-brands fa-threads"></i>Threads</a>
      <a class="pi" href="YOUR_LINK" target="_blank"><i class="fa-brands fa-pinterest"></i>Pinterest</a>
      <a class="gi" href="YOUR_LINK" target="_blank"><i class="fa-brands fa-github"></i>GitHub</a>
      <a class="sc" href="YOUR_LINK" target="_blank"><i class="fa-brands fa fa-snapchat"></i>Snapchat</a>
      <a class="lk" href="YOUR_LINK" target="_blank"><i class="fa-brands fa-linkedin"></i>LinkedIn</a>
      <a class="yt" href="YOUR_LINK" target="_blank"><i class="fa-brands fa-youtube"></i>YouTube</a>
      <a class="rd" href="YOUR_LINK" target="_blank"><i class="fa-brands fa-reddit"></i>Reddit</a>
      <a class="dc" href="YOUR_LINK" target="_blank"><i class="fa-brands fa-discord"></i>Discord</a>
      <a class="tw" href="YOUR_LINK" target="_blank"><i class="fa-brands fa-twitch"></i>Twitch</a>
      <a class="ve" href="YOUR_LINK" target="_blank"><i class="fa-brands fa-vimeo"></i>Vimeo</a>
      <a class="li" href="YOUR_LINK" target="_blank"><i class="fa-brands fa-line"></i>Line</a>
      <a class="we" href="YOUR_LINK" target="_blank"><i class="fa-brands fa-weixin"></i>WeChat</a>
      <a class="vi" href="YOUR_LINK" target="_blank"><i class="fa-brands fa-viber"></i>Viber</a>
      <a class="sk" href="YOUR_LINK" target="_blank"><i class="fa-brands fa-skype"></i>Skype</a>
    </div>

    <div class="section reveal">
      <strong>Contact</strong>
      <div class="info-line"><i class="fa-solid fa-phone"></i><a href="tel:01620434794" style="color:inherit;text-decoration:none">01620434794</a></div>
      <div class="info-line"><i class="fa-solid fa-envelope"></i><span>wasimmahmoodmia@hotmail.com</span></div>
    </div>

    <div class="section reveal">
      <strong>Technical Skills</strong>
      <div class="skill">
        <div class="skill-name"><span>Web Development</span><span>90%</span></div>
        <div class="progress-bar"><div style="width: 90%"></div></div>
      </div>
      <div class="skill">
        <div class="skill-name"><span>UI/UX Design</span><span>75%</span></div>
        <div class="progress-bar"><div style="width: 75%"></div></div>
      </div>
      <div class="skill">
        <div class="skill-name"><span>Communication</span><span>95%</span></div>
        <div class="progress-bar"><div style="width: 95%"></div></div>
      </div>
    </div>

    <div class="section reveal">
      <strong>What I'm Good At</strong>
      <div class="skills-grid">
        <div class="skill-item">Communication</div>
        <div class="skill-item">Social Networking</div>
        <div class="skill-item">Fast Learning</div>
        <div class="skill-item">Creative Thinking</div>
        <div class="skill-item">Problem Solving</div>
        <div class="skill-item">Team Leadership</div>
      </div>
    </div>

    <div class="section reveal">
      <strong>About Me</strong>
      <p>A creative mind always eager to learn something new. I find joy in small moments and constantly strive to improve my skills and reach my goals. Passionate about technology, new experiences, and embracing challenges.</p>
    </div>

    <div class="section reveal">
      <strong>Hobbies / Interests</strong>
      <p>
        ‚Ä¢ üéµ Listening to Music<br>
        ‚Ä¢ üíª Programming & Web/Game Development<br>
        ‚Ä¢ üöó Driving<br>
        ‚Ä¢ üîß Tech & Gadgets<br>
        ‚Ä¢ üìö Learning New Skills<br>
        ‚Ä¢ üñ•Ô∏è Learning About Tech & Hardware<br>
        ‚Ä¢ ‚öΩ Following Football Highlights & Analysis<br>
        ‚Ä¢ üçΩÔ∏è Trying New Foods<br>
        ‚Ä¢ üì± Exploring New Apps & Tools<br>
        ‚Ä¢ üé¨ Watching Movies & Series
      </p>
    </div>

    <div class="section reveal" id="contactSection">
      <div style="display:flex; justify-content:center; margin-bottom: 10px;">
        <lottie-player src="https://assets8.lottiefiles.com/packages/lf20_u25cckyh.json" background="transparent" speed="1" style="width: 150px; height: 150px;" loop autoplay></lottie-player>
      </div>
      <strong style="text-align:center; font-size:20px;">Let's Work Together</strong>
      <form id="contactForm">
        <input class="glass-input" placeholder="Your Name" id="name" required>
        <input class="glass-input" placeholder="Your Email" type="email" id="email" required>
        <textarea class="glass-input" rows="4" placeholder="Type your message here..." id="message" required></textarea>
        <button class="glass-btn" type="submit">Send Message <i class="fas fa-paper-plane"></i></button>
      </form>
      <p style="text-align: center; margin-top: 10px; font-size: 14px;" id="formMessage"></p>
    </div>

    <footer class="reveal">
      ¬©Ô∏è <span id="year"></span> Wasim Mahmood Mia ‚Äî All Rights Reserved
    </footer>
  </div>
</div>

<button class="back-to-top" id="backToTop"><i class="fas fa-arrow-up"></i></button>

<script>
document.getElementById('year').textContent = new Date().getFullYear();

// =================== 1. SCROLL PROGRESS BAR ===================
window.onscroll = function() {
  let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
  let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
  let scrolled = (winScroll / height) * 100;
  document.getElementById("progressBar").style.width = scrolled + "%";
  
  // Back to top button logic
  const backToTop = document.getElementById('backToTop');
  if (window.pageYOffset > 300) {
    backToTop.classList.add('visible');
  } else {
    backToTop.classList.remove('visible');
  }
};

// =================== 2. REAL VISITOR COUNTER ===================
// Using counterapi.dev for free reliable counting
fetch('https://api.counterapi.dev/v1/wasim_portfolio/visits/up')
  .then(res => res.json())
  .then(data => {
    document.getElementById('visitCount').innerText = data.count;
  })
  .catch(err => {
    // Fallback if API is blocked by browser adblockers
    document.getElementById('visitCount').innerText = "1,204+";
  });


// =================== 3. HIRE ME CONFETTI EFFECT ===================
document.getElementById('hireMeBtn').addEventListener('click', function() {
  confetti({
    particleCount: 150,
    spread: 70,
    origin: { y: 0.6 },
    colors: ['#00f2fe', '#4facfe', '#6b4bff', '#ff8a4b']
  });
  
  // Scroll to contact form
  document.getElementById('contactSection').scrollIntoView({ behavior: 'smooth' });
});


// =================== 4. SMART VOICE COMMANDS ===================
const voiceBtn = document.getElementById('voiceToggle');
const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

if(SpeechRecognition) {
  const recognition = new SpeechRecognition();
  recognition.continuous = false;
  
  voiceBtn.addEventListener('click', () => {
    voiceBtn.classList.add('voice-active');
    recognition.start();
  });

  recognition.onresult = (event) => {
    const command = event.results[0][0].transcript.toLowerCase();
    voiceBtn.classList.remove('voice-active');
    
    if(command.includes('dark') || command.includes('night')) {
      document.body.classList.add('dark-mode');
      themeIcon.className = 'fas fa-sun';
      localStorage.setItem('theme', 'dark');
    } 
    else if(command.includes('light') || command.includes('day')) {
      document.body.classList.remove('dark-mode');
      themeIcon.className = 'fas fa-moon';
      localStorage.setItem('theme', 'light');
    }
    else if(command.includes('scroll down') || command.includes('down')) {
      window.scrollBy({ top: 500, behavior: 'smooth' });
    }
    else if(command.includes('contact') || command.includes('hire')) {
      document.getElementById('contactSection').scrollIntoView({ behavior: 'smooth' });
    }
  };

  recognition.onerror = () => {
    voiceBtn.classList.remove('voice-active');
    alert("Voice recognition failed. Try again!");
  };
} else {
  voiceBtn.style.display = 'none'; // Hide if browser doesn't support
}


// =================== 5. TIME-BASED UI & THEME TOGGLE ===================
const themeToggle = document.getElementById('themeToggle');
const themeIcon = themeToggle.querySelector('i');

// Auto Day-Night Logic
function applyAutoTheme() {
  const savedTheme = localStorage.getItem('theme');
  if (!savedTheme) {
    const hour = new Date().getHours();
    // 6 PM to 6 AM is Dark Mode
    if (hour >= 18 || hour < 6) {
      document.body.classList.add('dark-mode');
      themeIcon.className = 'fas fa-sun';
    } else {
      document.body.classList.remove('dark-mode');
      themeIcon.className = 'fas fa-moon';
    }
  } else if (savedTheme === 'dark') {
    document.body.classList.add('dark-mode');
    themeIcon.className = 'fas fa-sun';
  }
}
applyAutoTheme();

themeToggle.addEventListener('click', () => {
  document.body.classList.toggle('dark-mode');
  if (document.body.classList.contains('dark-mode')) {
    themeIcon.className = 'fas fa-sun';
    localStorage.setItem('theme', 'dark');
  } else {
    themeIcon.className = 'fas fa-moon';
    localStorage.setItem('theme', 'light');
  }
});


// =================== SECURITY ENHANCEMENTS (UNCHANGED) ===================
function showCopyWarning() {
  const warning = document.getElementById('copyWarning');
  warning.style.display = 'block';
  setTimeout(() => { warning.style.display = 'none'; }, 2000);
}
function activateRecordingOverlay() {
  const overlay = document.getElementById('recordingOverlay');
  overlay.style.display = 'block';
  setTimeout(() => { overlay.style.display = 'none'; }, 3000);
}

document.addEventListener('selectstart', e => { if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') { e.preventDefault(); showCopyWarning(); return false; }});
document.addEventListener('copy', e => { e.preventDefault(); showCopyWarning(); return false; });
document.addEventListener('cut', e => { e.preventDefault(); showCopyWarning(); return false; });
document.addEventListener('contextmenu', e => { if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') { e.preventDefault(); showCopyWarning(); return false; }});
document.addEventListener('dragstart', e => { if (e.target.tagName === 'IMG' || e.target.tagName === 'A') { e.preventDefault(); return false; }});
document.addEventListener('keydown', e => {
  if (e.ctrlKey && ['c','v','x','a','s','p'].includes(e.key.toLowerCase()) && e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') { e.preventDefault(); showCopyWarning(); return false; }
  if (e.key === 'PrintScreen') { e.preventDefault(); showCopyWarning(); activateRecordingOverlay(); return false; }
  if (e.key === 'F12') { e.preventDefault(); showCopyWarning(); return false; }
});
setInterval(() => { if (window.mediaDevices && navigator.mediaDevices.getDisplayMedia) { activateRecordingOverlay(); } }, 5000);
if (window.location !== window.parent.location) { window.top.location = window.location; }
window.addEventListener('blur', () => { document.body.style.filter = 'blur(3px)'; document.body.style.transition = 'filter 0.3s ease'; });
window.addEventListener('focus', () => { document.body.style.filter = 'none'; });


// =================== EXISTING ANIMATIONS & FORM (UNCHANGED) ===================
const reveals = document.querySelectorAll('.reveal');
const io = new IntersectionObserver(e => {
  e.forEach(x => { 
    if(x.isIntersecting){
      x.target.classList.add('visible');
      if(x.target.querySelector('.progress-bar div')) {
        const progressBars = x.target.querySelectorAll('.progress-bar div');
        progressBars.forEach(bar => {
          const width = bar.style.width;
          bar.style.width = '0%';
          setTimeout(() => { bar.style.width = width; }, 100);
        });
      }
    }
  });
}, {threshold: .15});
reveals.forEach(r => io.observe(r));

backToTop.addEventListener('click', () => { window.scrollTo({ top: 0, behavior: 'smooth' }); });

const contactForm = document.getElementById('contactForm');
const formMessage = document.getElementById('formMessage');
contactForm.addEventListener('submit', function(e) {
  e.preventDefault();
  const name = document.getElementById('name').value;
  const email = document.getElementById('email').value;
  const message = document.getElementById('message').value;
  if(!name || !email || !message) { formMessage.textContent = "Please fill all fields!"; formMessage.style.color = "#ff8a4b"; return; }
  formMessage.textContent = "üìß Opening email app..."; formMessage.style.color = "#1f9bff";
  const subject = `Message from ${name} - Portfolio Website`;
  const body = `Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}\n\n---\nSent from your portfolio website.`;
  const mailtoLink = `mailto:wasimmahmoodmia@hotmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  setTimeout(() => {
    window.location.href = mailtoLink;
    formMessage.textContent = "‚úÖ Email app opened! Please send the message."; formMessage.style.color = "#25D366";
    setTimeout(() => { contactForm.reset(); formMessage.textContent = ""; }, 3000);
  }, 500);
});

const canvas = document.getElementById('particles-js');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
let particles = [];
for(let i = 0; i < 100; i++) {
  particles.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, r: Math.random() * 3 + 2, dx: (Math.random() - 0.5) * 0.5, dy: (Math.random() * 0.7) + 0.3, color: `rgba(255, 255, 255, ${Math.random() * 0.2 + 0.1})` });
}
function animateParticles() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  for(let p of particles) {
    ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2); ctx.fillStyle = p.color; ctx.shadowColor = 'rgba(255, 255, 255, 0.5)'; ctx.shadowBlur = 4; ctx.fill();
    p.x += p.dx; p.y += p.dy;
    if(p.x < 0) p.x = canvas.width; if(p.x > canvas.width) p.x = 0;
    if(p.y > canvas.height) { p.y = 0; p.x = Math.random() * canvas.width; }
  }
  requestAnimationFrame(animateParticles);
}
animateParticles();
window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });

</script>
</body>
</html>
